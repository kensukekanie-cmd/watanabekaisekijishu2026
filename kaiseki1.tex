\documentclass{beamer}
\usepackage{luatexja}
%\renewcommand{\kanjifamilydefault}{\gtdefault}
%ã“ã‚Œã¯ä¸ä¾¿ãŒå‡ºã‚‹ã¾ã§ã¯æœ‰åŠ¹åŒ–ã—ã¾ã›ã‚“
%\usetheme{metropolis}
\usetheme[block=fill]{metropolis}
\usepackage{graphicx,tcolorbox,diffcoeff}
\usepackage{amsmath,amsthm}
\usepackage{unicode-math}
\setmathfont{NewComputerModernMath}
\usepackage[thicklines]{cancel}
\usepackage{xcolor}
\renewcommand{\CancelColor}{\color{red!60!black}}
\newtcolorbox{teiri}[1]{
  colframe=black,
  colback=white,
  coltitle=black,
  colbacktitle=cyan!40!black,
  boxrule=0.8pt,
  arc=0mm,
  title={\textcolor{white}{\textbf{#1}}},
}

\difdef { f, fp, s, sp } { | }
{
outer-Ldelim
= \left . ,
outer-Rdelim = \right |,
sub-nudge
= 0 mu
}

\title{è§£æåŠ›å­¦è‡ªä¸»ã‚¼ãƒŸç¬¬ä¸€å›\\
 ï½ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ³åŠ›å­¦ã¨å¤‰åˆ†æ³•ï½}
\author{èŸ¹æ±Ÿ}
\date{\today}
\begin{document}

\begin{frame}
  \maketitle
\end{frame}

\begin{frame}
  \frametitle{ã–ã£ãã‚Šã¨ã—ãŸå°å‡º}
  \begin{align*}
  Î´S[q]
  :=&S[q+Îµ]+S[q]\\
  =&\int_{t_i}^{t_f} \dl{t}
    (L(q+Îµ, \dot{q}+ \dot{Îµ},t)-L(q, \dot{q},t))\\ 
  =&\int_{t_i}^{t_f} \dl{t}
    \Bigl[
      Îµ\diffp{L}{q}+\dot{Îµ}\diffp{L}{\dot{q}}
    \Bigr]+ ğ’ª(Îµ ^2)\\
  =&\int_{t_i}^{t_f} \dl{t} \, Îµ
    \Biggl[
      \diffp{L}{q} - \diff**t{\diffp{L}{\dot{q}}[]}
    \Biggr]+ ğ’ª(Îµ ^2)
\end{align*}
\end{frame}

\begin{frame} 
  \begin{block}{ã‚ªã‚¤ãƒ©ãƒ¼ãƒ»ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥æ–¹ç¨‹å¼ï¼ˆEuler-Lagrange equationï¼‰}
    \( Îµ(t_i)=Îµ(t_f)=0 \)ã¨ãªã‚‹å¤‰åˆ†ã«å¯¾ã—ã¦ä½œç”¨ \( S[q] \)ãŒåœç•™ã¨ãªã‚‹æ¡ä»¶ã¯
    \begin{equation}
      \diff**{t}{\diffp{L(q(t), \dot{q}(t),t)}{ \dot{q}_i(t)}} = \diffp{L(q(t), \dot{q}(t),t)}{q_i(t)}\quad (\forall i=1,2, \ldots, N)
    \end{equation} 
  \end{block}
   é›‘ã«æ›¸ã‘ã°\( \difc{ \difcp{L}{\dot{q}}}{t} = \difcp{L}{q}\)
\end{frame}

\begin{frame}
  \frametitle{ã‚ªã‚¤ãƒ©ãƒ¼ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥æ–¹ç¨‹å¼ã®å°å‡º}
  \begin{align*}
  Î´S[q]
  :=&S[q+Îµ]-S[q]\\
  =&\int_{t_i}^{t_f} \dl{t}
    \big[L(q(t)+Îµ(t), \dot{q}(t)+ \dot{Îµ}(t),t)-L(q(t), \dot{q}(t),t)\big]\\ 
  =&\int_{t_i}^{t_f} \dl{t}
    \Biggl[
      Îµ(t) \diffp.|.{L(q,\dot{q}(t),t)}{q}[q=q(t)]
      + \underbrace{\dot{Îµ}(t) \diffp.|.{L(q(t),\dot{q},t)}{\dot{q}}[\dot{q}=\dot{q}(t)]}_{\text{ã“ã“ã‚’éƒ¨åˆ†ç©åˆ†}} 
    \Biggr]\\
    &+ ğ’ª(Îµ ^2)\\
    \uncover<2->{=&\int_{t_i}^{t_f} \dl{t} \, Îµ(t)
    \Biggl[
      \diffp{L(q(t),\dot{q}(t),t)}{q(t)} - \diff**t{\diffp{L(q(t),\dot{q}(t),t)}{\dot{q}(t)}[]}
    \Biggr]\\
    &+\xcancel{Îµ(t_f)}\diffp.|.{L(q(t),\dot{q}(t),t)}{ \dot{q}(t)}[t=t_f] - \xcancel{Îµ(t_i)} \diffp.|.{L(q(t),\dot{q}(t),t)}{ \dot{q}(t)}[t=t_i]\\
    &+ ğ’ª(Îµ ^2)}
\end{align*}
\end{frame}



\begin{frame}
  \frametitle{ã‚ªã‚¤ãƒ©ãƒ¼ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥æ–¹ç¨‹å¼ã®å°å‡º}
  \( Îµ(t_i)=Îµ(t_f)=0 \)ã‚’ä»®å®šã—ã¦ã„ã‚‹ã€‚
  \( S[q] \)ãŒåœç•™ã¨ãªã‚‹æ¡ä»¶ã¯ã€
  \begin{equation}
    \diff**{t}{\diffp{L(q(t), \dot{q}(t),t)}{ \dot{q}(t)}} = \diffp{L(q(t), \dot{q}(t),t)}{q(t)}
  \end{equation}
  ã¨ãªã‚‹ã€‚
\end{frame}





\begin{frame}
  \frametitle{\( ğ’ª(Îµ^2)\)ã«ã¤ã„ã¦ã®è£œè¶³}
  æ•™ç§‘æ›¸ã ã‘ã§ã¯åˆ†ã‹ã‚Šã¥ã‚‰ã„ãŸã‚ã€å…·ä½“ä¾‹ã‚’ç¤ºã™ã€‚\\
  \( g(t_i)=g(t_f)=0 \)ã‚’æº€ãŸã™é–¢æ•° \( g(t) \)  ã‚’ã¨ã£ã¦
  \( Îµ(t)= Î·g(t) \)ã¨ã—ãŸã¨ã
  \begin{align*}
  &\int \dl{t} (Îµ ^2(t)F_1(t) + Îµ ^3(t)F_2(t)+\cdots ) \\
  =&\int \dl{t} (Î· ^2g(t)F_1(t) + Î· ^3g(t)(t)F_2(t)+\cdots )\\ 
  =&Î· ^2\int \dl{t} (g(t)F_1(t) + Î· g(t)F_2(t)+\cdots )\\ 
  =& ğ’ª(Î· ^2)
  \end{align*}
  \uncover<2->{å¾®åˆ†ç©åˆ†ã®ç·šå½¢æ€§ã‹ã‚‰å…ˆç¨‹ã®é›‘ãªã‚ªãƒ¼ãƒ€ãƒ¼ãŒä½¿ãˆã¦ã„ã‚‹äº‹ãŒã‚ã‹ã‚‹}
\end{frame}

\begin{frame}
  \frametitle{ \( L(q, \dot{q}, \ddot{q},t) \)ã®Euler-Lagrange equation}
  \begin{align*}
  Î´S
  =&\int_{t_i}^{t_f} \dl{t}
    \left( 
      \diffp{L}{q} Îµ + \diffp{L}{\dot{q}} \dot{Îµ} + \diffp{L}{q} \ddot{Îµ} 
    \right)+ ğ’ª(Îµ^2)\\
  =&\int_{t_i}^{t_f} \dl{t} 
    \left( 
      \diffp{L}{q}Îµ- \diff**t{\diffp{L}{\dot{q}}[]}Îµ-\diff**t{\diffp{L}{\ddot{q}}[]} \dot{Îµ}
     \right)\\
     & + Îµ\diffp{L}{\dot{q}}\bigg|_{t_i}^{t_f} + \dot{Îµ} \diffp{L}{\ddot{q}}\bigg|_{t_i}^{t_f} + ğ’ª(Îµ^2)\\
  =&\int_{t_i}^{t_f} \dl{t} Îµ
    \left( 
      \diffp{L}{q}- \diff**t{\diffp{L}{\dot{q}}[]}+\diff**[2]t{\diffp{L}{\ddot{q}}[]} 
     \right)\\
     &+ Îµ\diffp{L}{\dot{q}}\bigg|_{t_i}^{t_f}
      + \dot{Îµ} \diffp{L}{\ddot{q}}\bigg|_{t_i}^{t_f} - Îµ \diff**t{\diffp{L}{\ddot{q}}[]} \bigg|_{t_i}^{t_f}
      +ğ’ª(Îµ^2)
  \end{align*}
\end{frame}
 
\begin{frame}
  \begin{block}{Euler-Lagrange equation å¼•æ•° \( (q, \dot{q}, \ddot{q},t) \)}
   \( Îµ(t_i)=Îµ(t_f)=0 ,\dot{Îµ}(t_i)= \dot{Îµ}(t_f)=0 \)ã¨ãªã‚‹å¤‰åˆ†ã«å¯¾ã—ã¦ä½œç”¨ \( S[q] \)ãŒåœç•™ã¨ãªã‚‹æ¡ä»¶ã¯
  \begin{equation}
    \diffp{L}{q}- \diff**t{\diffp{L}{\dot{q}}[]}+\diff**[2]t{\diffp{L}{\ddot{q}}[]}=0 
  \end{equation} 
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{\( L(q, \dot{q}, \ldots, \overset{n}{q} ,t) \)ã®Euler-Lagrange equation}
  \begin{align*}
  Î´S
  =&\int_{t_i}^{t_f} 
    \sum_{i=0}^{n} \diffp{L}{\overset{i}{q} } \overset{i}{Îµ}  \dl{t} + ğ’ª(Îµ^2)\\
  =&\int_{t_i}^{t_f}Îµ
    \left( \sum_{i=0}^{n} (-1)^i \diff**[i]t{ \diffp{L}{\overset{i}{q}}[]}  \right) \dl{t} 
    + \sum_{i=1}^{n} \sum_{j=1}^{i}(-1)^{j+1} \overset{i-j}{Îµ} \diff**[j-1]t{\diffp{L}{ \overset{i}{q}}[]} \Bigg|_{t_i}^{t_f} + ğ’ª(Îµ^2) 
  \end{align*}
    ã‚ã‚“ã¾ã‚Šã«ç…©é›‘ã ã£ãŸã®ã§ã€æ™‚é–“å¾®åˆ†ã®ãƒ‰ãƒƒãƒˆã‚’ \( i \)éšå¾®åˆ†ã®ã¨ã \( \overset{i}{q}\)  ã®ã‚ˆã†ã«è¡¨ã—ãŸã€‚è¡¨è¨˜ãƒ–ãƒ¬ãƒ–ãƒ¬ã§ã”ã‚ã‚“ã­
\end{frame}

\begin{frame}
  \frametitle{ä¸€èˆ¬ã®Euler-Lagrange equation}
     \( Îµ(t_i)=Îµ(t_f)=0 , \dot{Îµ}(t_i)= \dot{Îµ}(t_f)=0 ,\ldots, \overset{n-1}{Îµ}(t_i)=\overset{n-1}{Îµ}(t_f)=0  \)
   ã¨ãªã‚‹å¤‰åˆ†ã«å¯¾ã—ã¦ã€ä½œç”¨ \( S[q] \)ãŒåœç•™ã¨ãªã‚‹æ¡ä»¶ã¯ 
  \begin{equation}
    \sum_{i=0}^{n} (-1)^i \diff**[i]t{ \diffp{L}{ \diff[i]{q}{t}}[]} =0
  \end{equation}
\end{frame}

\begin{frame}
  \begin{align*}
    \exp x= \sum_{n=0}^{\infty} \frac{1}{n!}x^n 
  \end{align*}
\end{frame}

\end{document}