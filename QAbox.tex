\documentclass{jlreq}
\usepackage{graphicx,tcolorbox,diffcoeff}
\usepackage{amsmath,amsthm}
\usepackage{unicode-math}
\setmathfont{NewComputerModernMath}
\usepackage[thicklines]{cancel}
\usepackage{hyperref}

\tcbuselibrary{breakable, skins}
\newcommand{\qsep}{%
  \tcblower
  \medskip
}

\newtcolorbox{qboxok}[3]{%
  breakable,
  enhanced,
  colback=white,
  colframe=black,
  boxrule=0.8pt,
  arc=2mm,
  left=4mm,
  right=4mm,
  top=3mm,
  bottom=3mm,
  before upper={
    \textbf{#1}
    \medskip
  },
  after upper={
    \par\smallskip
    \hfill{\small 質問者：#2}
  },
  after lower={
    \par\smallskip
    \hfill{\small 回答者：#3}
  }
}
\newtcolorbox{qbox}[2]{%
  breakable,
  enhanced,
  colback=white,
  colframe=red,
  boxrule=0.8pt,
  arc=2mm,
  left=4mm,
  right=4mm,
  top=3mm,
  bottom=3mm,
  before upper={
    \textbf{#1}
    \medskip
  },
  after upper={
    \par\smallskip
    \hfill{\small 質問者：#2}
  }
}



\begin{document}

\begin{qboxok}
  {教科書B 第3章 / 正準運動量}
  {山田}
  {佐藤}

正準運動量はなぜ
$p = \partial L / \partial \dot{q}$
で定義されるの？

\qsep

ラグランジアンの変分原理において、
座標と共役な量として自然に現れるため。
\end{qboxok}

\begin{qbox}
  {教科書B 第3章 / 正準運動量}
  {山田}


正準運動量はなぜ
$p = \partial L / \partial \dot{q}$
で定義されるの？


\end{qbox}

\end{document}