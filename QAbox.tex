\documentclass{jlreq}
\usepackage{graphicx,tcolorbox,diffcoeff}
\usepackage{amsmath,amsthm}
\usepackage{unicode-math}
\setmathfont{NewComputerModernMath}
\usepackage[thicklines]{cancel}
\usepackage{hyperref}

\tcbuselibrary{breakable, skins}
\newcommand{\qsep}{%
  \tcblower
  \medskip
}

\newtcolorbox{qboxok}[3]{%
  breakable,
  enhanced,
  colback=white,
  colframe=black,
  boxrule=0.8pt,
  arc=2mm,
  left=4mm,
  right=4mm,
  top=3mm,
  bottom=3mm,
  before upper={
    \textbf{#1}
    \medskip
  },
  after upper={
    \par\smallskip
    \hfill{\small 質問者：#2}
  },
  after lower={
    \par\smallskip
    \hfill{\small 回答者：#3}
  }
}
\newtcolorbox{qbox}[2]{%
  breakable,
  enhanced,
  colback=white,
  colframe=red,
  boxrule=0.8pt,
  arc=2mm,
  left=4mm,
  right=4mm,
  top=3mm,
  bottom=3mm,
  before upper={
    \textbf{#1}
    \medskip
  },
  after upper={
    \par\smallskip
    \hfill{\small 質問者：#2}
  }
}



\begin{document}
% 以下のように書いてください

%--解決していない質問--
% \begin{qbox}
%   {教科書該当箇所}
%   {質問者}
  
%   質問文…
% \end{qbox}

%--解決している質問--
% \begin{qboxok}
%   {教科書該当箇所またはタイトル}
%   {質問者}
%   {回答者}
  
%   質問文…

%   \qsep

%   回答文…
% \end{qboxok}


\begin{qboxok}
  {p145 6.1.1 ラグランジアンの凸性}
  {蟹江}
  {かにちゃん}

  ラグランジアンからハミルトニアンの変換は,ルジャンドル変換になっているが,
  ラグランジアンが正準運動量に関して凸関数になっているという
  のは何から言えるんだろうか.

  \qsep 

  古典力学のラグランジアンに関しては
  \begin{equation}
    L(q, \dot{q},t)=K-U= \frac{1}{2}m \dot{q}^2 -U(q)
    \label{kotenlag}
  \end{equation}
  であるから,
  \[ \diffp[2]L{\dot{q}} = m >0 \]
  となり下に凸であることが保証されている.
  ただし,式\eqref{kotenlag}は直交座標であることを仮定していたりとガバ論理なのでこの解答には修正が必要.
\end{qboxok}

\end{document}